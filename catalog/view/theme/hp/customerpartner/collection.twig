<style>
.close {
  margin-right: 1%;
}
</style>

<div id="seller-collection">
  <div class="col-sm-3">
    <!-- Category sidebar temporarily disabled -->
    
    {% if (categories) %}
      <column id="column-left">
        <div class="list-group">
          {% for category in categories %}
            {% if category.category_id == category_id %}
              <a href="{{ category.href }}" class="list-group-item active">{{ category.name }}</a>
              {% if category.children %}
                {% for child in category.children %}
                  {% if child.category_id == child_id %}
                    <a href="{{ child.href }}" class="list-group-item active">&nbsp;&nbsp;&nbsp;- {{ child.name }}</a>
                  {% else %}
                    <a href="{{ child.href }}" class="list-group-item">&nbsp;&nbsp;&nbsp;- {{ child.name }}</a>
                  {% endif %}
                {% endfor %}
              {% endif %}
            {% else %}
              <a href="{{ category.href }}" class="list-group-item">{{ category.name }}</a>
            {% endif %}
          {% endfor %}
        </div>
      </column>
    {% endif %}
   
  </div>

  <div class="col-sm-9 col-lg-12">
    <div class="row mb-3">

      <!-- List/Grid View Buttons -->
      <div class="col-md-3 col-sm-6 mb-2">
        <div class="btn-group btn-group-sm">
          <button type="button" id="list-view" class="btn btn-default" data-toggle="tooltip" title="{{ button_list }}">
            <i class="fa fa-th-list"></i>
          </button>
          <button type="button" id="grid-view" class="btn btn-default" data-toggle="tooltip" title="{{ button_grid }}">
            <i class="fa fa-th"></i>
          </button>
        </div>
      </div>

      <!-- Search input temporarily disabled -->
      {#
      <div class="col-md-4 text-right">
        <div class="form-group input-group input-group-sm">
          <label class="input-group-addon" for="input-sort">{{ text_product_name }}</label>
          <input type="text" name="input" value="{{ product_name is defined and product_name ? product_name : '' }}" class="form-control" />
        </div>
      </div>
      #}

      <!-- Sort Dropdown -->
      <div class="col-md-4 col-xs-6">
        <div class="form-group input-group input-group-sm ps-4">
          <label class="input-group-addon" for="input-sort">{{ text_sort }}</label>
          <select id="input-sort" class="form-control mx-3">
            {% for sorts in sorts %}
              <option value="{{ sorts.href }}" {{ sorts.value == '%s-%s'|format(sort, order) ? 'selected="selected"' : '' }}>{{ sorts.text }}</option>
            {% endfor %}
          </select>
        </div>
      </div>

      <!-- Limit Dropdown -->
      <div class="col-md-4 col-xs-6">
        <div class="form-group input-group input-group-sm ps-4">
          <label class="input-group-addon" for="input-limit">{{ text_limit }}</label>
          <select id="input-limit" class="form-control mx-3">
            {% for limits in limits %}
              <option value="{{ limits.href }}" {{ limits.value == limit ? 'selected="selected"' : '' }}>{{ limits.text }}</option>
            {% endfor %}
          </select>
        </div>
      </div>
    </div>

    <!-- Product Grid -->
    {% if (products) %}
    <div id="mp-products">
        <div class="row product-page">
          {% for product in products %}
            <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 d-flex">
				<div class="product-thumb rounded-4 p-3 d-flex flex-column justify-content-between transition w-100">
					<div class="image"><a href="{{ product.href }}"><img src="{{ product.thumb }}" alt="{{ product.name }}" title="{{ product.name }}" class="img-fluid mx-auto d-block"/></a></div>
					<div class="caption">
						<h4><a class="text-decoration-none fs-5 text-black" href="{{ product.href }}">{{ product.name }}</a></h4>
						<p class="text-break text-nowrap" >{{ product.description }}</p>
						{% if product.rating %}
						{% endif %}
						{% if product.price %}
						<p class="price">
						{% if not product.special %}
						{{ product.price }}
						{% else %}
						<span class="price-new">{{ product.special }}</span> <span class="price-old">{{ product.price }}</span>
						{% endif %}
						{% if product.tax %}
						<span class="price-tax">{{ text_tax }} {{ product.tax }}</span>
						{% endif %}
						</p>
						{% endif %}
						<div class="rating d-flex gap-3 fs-4">
							{% for i in 1..5 %}
							{% if product.rating < i %}
							<i class="fa fa-paw text-muted"></i>
							{% else %}
							<i class="fa fa-paw stars"></i>
							{% endif %}
							{% endfor %}
						</div>
					</div>
				<div class="button-group">
					<button type="button" onclick="cart.add('{{ product.product_id }}');"><i class="fa fa-shopping-cart"></i> <span class="hidden-xs hidden-sm hidden-md">{{ button_cart }}</span></button>
					<button type="button" data-toggle="tooltip" title="{{ button_wishlist }}" onclick="wishlist.add('{{ product.product_id }}');"><i class="fa fa-heart"></i></button>
					<button type="button" data-toggle="tooltip" title="{{ button_compare }}" onclick="compare.add('{{ product.product_id }}');"><i class="fa fa-exchange"></i></button>
				</div>
			</div>
		</div>
          {% endfor %}
    </div>

        <div class="row mt-4">
          <div class="col-sm-6 text-left">{{ pagination }}</div>
          <div class="col-sm-6 text-right">{{ results }}</div>
        </div>
      </div>
    {% else %}
      {% if not categories %}
        <p>{{ text_empty }}</p>
      {% endif %}
    {% endif %}
  </div>
</div>
